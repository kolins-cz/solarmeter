\hypertarget{Solarmeter_8h_source}{}\doxysection{Solarmeter.\+h}
\label{Solarmeter_8h_source}\index{include/Solarmeter.h@{include/Solarmeter.h}}
\mbox{\hyperlink{Solarmeter_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef Solarmeter\_h}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define Solarmeter\_h}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <ABBAurora.h>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{SolarmeterMqtt_8h}{SolarmeterMqtt.h}}"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{SolarmeterConfig_8h}{SolarmeterConfig.h}}"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{class }\mbox{\hyperlink{classSolarmeter}{Solarmeter}}}
\DoxyCodeLine{8 \{}
\DoxyCodeLine{9   \textcolor{keyword}{static} \textcolor{keyword}{const} std::set<std::string> ValidKeys;}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{private}:}
\DoxyCodeLine{12   ABBAurora *Inverter;}
\DoxyCodeLine{13   \mbox{\hyperlink{classSolarmeterMqtt}{SolarmeterMqtt}} *Mqtt;}
\DoxyCodeLine{14   \mbox{\hyperlink{classSolarmeterConfig}{SolarmeterConfig}} *Cfg;}
\DoxyCodeLine{15   ABBAurora::State State;}
\DoxyCodeLine{16   std::stringstream Payload;}
\DoxyCodeLine{17   std::string Config;}
\DoxyCodeLine{18   std::string ErrorMessage;}
\DoxyCodeLine{19   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} Log;}
\DoxyCodeLine{20 }
\DoxyCodeLine{21   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{22   T StringTo(\textcolor{keyword}{const} std::string \&str) \textcolor{keyword}{const};}
\DoxyCodeLine{23   \textcolor{keywordtype}{void} SetLogLevel(\textcolor{keywordtype}{void});}
\DoxyCodeLine{24  }
\DoxyCodeLine{25 \textcolor{keyword}{public}:}
\DoxyCodeLine{26   \mbox{\hyperlink{classSolarmeter_af2d94398c36cec0e0f24818884491676}{Solarmeter}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{27   \mbox{\hyperlink{classSolarmeter_a48020ac40e2ebe16c134c9c6b9a8d9e6}{\string~Solarmeter}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{28   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classSolarmeter_a9272be519de5d3e3e99cafbd18a2653e}{Setup}}(\textcolor{keyword}{const} std::string \&config);}
\DoxyCodeLine{29   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classSolarmeter_a6938daf5466494085eabaeb908f772bd}{Receive}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{30   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classSolarmeter_a924770d6826b055a260a4e3979bd1ca9}{Publish}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{31   std::string \mbox{\hyperlink{classSolarmeter_a51f9e1a48417f9eed8302e6fa54ad6bc}{GetErrorMessage}}(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};}
\DoxyCodeLine{32   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \mbox{\hyperlink{classSolarmeter_a41b6ab86de1bde9b317fa36b443d5ee7}{GetLogLevel}}(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};}
\DoxyCodeLine{33   }
\DoxyCodeLine{34   \textcolor{keyword}{struct }\mbox{\hyperlink{structSolarmeter_1_1Datagram}{Datagram}}}
\DoxyCodeLine{35   \{}
\DoxyCodeLine{36     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_a2193e82ec78397af368bc5f2c9f17798}{SerialNum}};    \textcolor{comment}{// Serial number}}
\DoxyCodeLine{37     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_a7598dde00df81f69b8fe3139be293249}{PartNum}};      \textcolor{comment}{// Part number}}
\DoxyCodeLine{38     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_a47670d38b67ca3bbc99dccb44b8def56}{MfgDate}};      \textcolor{comment}{// Manufacturing date}}
\DoxyCodeLine{39     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_a0885cf730c83764cd9f57b158d5cd966}{Firmware}};     \textcolor{comment}{// Firmware version}}
\DoxyCodeLine{40     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_aafb596539c38747e99f2cc4c583f4405}{InverterType}}; \textcolor{comment}{// Inverter type indoor/outdoor}}
\DoxyCodeLine{41     std::string \mbox{\hyperlink{structSolarmeter_1_1Datagram_a7b2ca58c1dad49557baa41771870ccf4}{GridStandard}}; \textcolor{comment}{// Grid standard}}
\DoxyCodeLine{42     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_af405e6b9c13b0e50d571e76bc52235b8}{VoltageP1}};          \textcolor{comment}{// Voltage pin 1 [V]}}
\DoxyCodeLine{43     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_afc0d2dbf7d5100d2761e47bb6b159a01}{CurrentP1}};          \textcolor{comment}{// Current pin 1 [A]}}
\DoxyCodeLine{44     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a367b3fbd234f673d800991b28833ed57}{PowerP1}};            \textcolor{comment}{// Power pin 1 [W]}}
\DoxyCodeLine{45     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a838933e75f3e41692c5d3b0a7b6dce51}{VoltageP2}};          \textcolor{comment}{// Voltage pin 2 [V]}}
\DoxyCodeLine{46     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a07d7ee5253f042cd74cc144fb2e9d91b}{CurrentP2}};          \textcolor{comment}{// Current pin 2 [A]}}
\DoxyCodeLine{47     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_addee96dc4b885e286974cd00f7ae3c40}{PowerP2}};            \textcolor{comment}{// Power pin 2 [W]}}
\DoxyCodeLine{48     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a78a962a21bbfb8f51857f5212a7e5652}{GridVoltage}};        \textcolor{comment}{// Grid voltage [V]}}
\DoxyCodeLine{49     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a7b1451a847092891800d32a36ade85b5}{GridCurrent}};        \textcolor{comment}{// Grid current [A]}}
\DoxyCodeLine{50     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a18e4d35cc11c49443ae4362ac5295b7e}{GridPower}};          \textcolor{comment}{// Grid power [W]}}
\DoxyCodeLine{51     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_ad8811c734dbb35f5b9b2400ec266cce3}{Frequency}};          \textcolor{comment}{// Grid frequency [Hz]}}
\DoxyCodeLine{52     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_ac95bbd3c0d248c492bf246350a372fb8}{Efficiency}};         \textcolor{comment}{// AC/DC conversion efficiency [\%]}}
\DoxyCodeLine{53     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_afa261aa0aecf73b812dc4f84ae67a5d0}{InverterTemp}};       \textcolor{comment}{// Inverter temperature [°C]}}
\DoxyCodeLine{54     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a130053f887af3ddc8c5d8f4c32f9e51a}{BoosterTemp}};        \textcolor{comment}{// Booster temperature [°C]}}
\DoxyCodeLine{55     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_aa55dcd0d2a864ea6654d2f9af92e7edf}{RIso}};               \textcolor{comment}{// Isolation resistance [MOhm] }}
\DoxyCodeLine{56     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_a457803cb3676a6217c67c39a1cf6d02e}{TotalEnergy}};        \textcolor{comment}{// Lifetime total energy [kWh]}}
\DoxyCodeLine{57     \textcolor{keywordtype}{float} \mbox{\hyperlink{structSolarmeter_1_1Datagram_aec0d72047d2a773b9c62d49f9c3b66f5}{PaymentKwh}};         \textcolor{comment}{// Payment per kWh}}
\DoxyCodeLine{58   \} \mbox{\hyperlink{classSolarmeter_ac06adee5c4f5a2e16c97f27ee7cb9d5c}{Datagram}};}
\DoxyCodeLine{59 \};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
